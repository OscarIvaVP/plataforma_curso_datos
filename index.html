<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ciencia de Datos desde Cero</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- Welcome Modal -->
  <div id="welcome-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-glow"></div>
      <h1 class="modal-title">Ciencia de Datos<br><span class="gradient-text">desde Cero</span></h1>
      <p class="modal-subtitle">Domina el anÃ¡lisis de datos, Python y Machine Learning paso a paso.</p>
      <div class="modal-input-group">
        <label for="student-name">Â¿CÃ³mo te llamas?</label>
        <input type="text" id="student-name" placeholder="Tu nombre" maxlength="40" autocomplete="off">
      </div>
      <button id="start-btn" class="btn btn-primary" disabled>Comenzar el curso</button>
    </div>
  </div>

  <!-- Certificate Modal -->
  <div id="cert-modal" class="modal-overlay hidden">
    <div class="modal modal-lg">
      <button class="modal-close" id="cert-close">&times;</button>
      <h2 class="modal-title">Â¡Felicidades! ðŸŽ“</h2>
      <p class="modal-subtitle">Has completado el curso. Descarga tu certificado.</p>
      <canvas id="cert-canvas" width="1200" height="800"></canvas>
      <button id="cert-download" class="btn btn-primary">Descargar certificado</button>
    </div>
  </div>

  <!-- App Shell -->
  <div id="app" class="app hidden">

    <!-- Mobile Header -->
    <header class="mobile-header">
      <button class="hamburger" id="menu-toggle" aria-label="Abrir menÃº">
        <span></span><span></span><span></span>
      </button>
      <span class="mobile-title">Ciencia de Datos</span>
      <div class="header-progress-mini">
        <span id="header-progress-text">0%</span>
      </div>
    </header>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <h2 class="sidebar-logo">
          <span class="logo-icon">â—†</span>
          <span>DataPath</span>
        </h2>
        <button class="sidebar-close" id="sidebar-close" aria-label="Cerrar menÃº">&times;</button>
      </div>

      <div class="sidebar-user">
        <div class="user-avatar" id="user-avatar">U</div>
        <div class="user-info">
          <span class="user-name" id="sidebar-username">Usuario</span>
          <span class="user-role">Estudiante</span>
        </div>
      </div>

      <div class="sidebar-progress">
        <div class="progress-label">
          <span>Progreso general</span>
          <span id="global-progress-pct">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="global-progress-bar"></div>
        </div>
      </div>

      <nav class="sidebar-nav" id="sidebar-nav">
        <!-- Modules rendered by JS -->
      </nav>

      <div class="sidebar-footer">
        <button class="btn btn-outline btn-sm" id="reset-progress-btn">Reiniciar progreso</button>
      </div>
    </aside>

    <!-- Sidebar Overlay (mobile) -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- Main Content -->
    <main class="main-content" id="main-content">

      <!-- Dashboard View -->
      <section id="view-dashboard" class="view active">
        <div class="dashboard-hero">
          <div class="hero-content">
            <h1>Bienvenido, <span class="gradient-text" id="dashboard-username">Usuario</span></h1>
            <p class="hero-subtitle">ContinÃºa tu aprendizaje en ciencia de datos. Cada mÃ³dulo te acerca mÃ¡s a dominar el anÃ¡lisis de datos y Machine Learning.</p>
          </div>
          <div class="hero-stats">
            <div class="stat-card">
              <span class="stat-number" id="stat-completed">0</span>
              <span class="stat-label">Lecciones completadas</span>
            </div>
            <div class="stat-card">
              <span class="stat-number" id="stat-total">15</span>
              <span class="stat-label">Total de lecciones</span>
            </div>
            <div class="stat-card">
              <span class="stat-number" id="stat-quizzes">0</span>
              <span class="stat-label">Quizzes aprobados</span>
            </div>
          </div>
        </div>

        <h2 class="section-title">MÃ³dulos del curso</h2>
        <div class="modules-grid" id="modules-grid">
          <!-- Module cards rendered by JS -->
        </div>
      </section>

      <!-- Lesson View -->
      <section id="view-lesson" class="view">
        <button class="btn-back" id="btn-back-lesson">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
          Volver al mÃ³dulo
        </button>

        <div class="lesson-header">
          <span class="lesson-badge" id="lesson-badge">MÃ³dulo 1 â€” LecciÃ³n 1</span>
          <h1 id="lesson-title">TÃ­tulo de la lecciÃ³n</h1>
          <div class="lesson-meta">
            <span class="meta-item" id="lesson-duration">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
              20 min
            </span>
            <span class="meta-item" id="lesson-type-badge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              Video
            </span>
          </div>
        </div>

        <div class="video-container" id="video-container">
          <div class="video-wrapper">
            <iframe id="video-iframe" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>
        </div>

        <div class="lesson-body">
          <div class="lesson-content-area">
            <div class="lesson-tabs">
              <button class="tab active" data-tab="reading">Lectura</button>
              <button class="tab" data-tab="resources">Recursos</button>
            </div>

            <div class="tab-content active" id="tab-reading">
              <div class="reading-content" id="reading-content">
                <!-- Reading content rendered by JS -->
              </div>
            </div>

            <div class="tab-content" id="tab-resources">
              <div class="resources-list" id="resources-list">
                <!-- Resources rendered by JS -->
              </div>
            </div>
          </div>

          <div class="lesson-actions">
            <button class="btn btn-primary btn-lg" id="btn-complete-lesson">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>
              Marcar como completada
            </button>
            <button class="btn btn-outline btn-lg" id="btn-next-lesson">
              Siguiente lecciÃ³n
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </section>

      <!-- Quiz View -->
      <section id="view-quiz" class="view">
        <button class="btn-back" id="btn-back-quiz">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
          Volver al mÃ³dulo
        </button>

        <div class="quiz-header">
          <span class="lesson-badge" id="quiz-badge">Quiz</span>
          <h1 id="quiz-title">Quiz del MÃ³dulo</h1>
          <p class="quiz-instruction">Responde correctamente al menos el 70% de las preguntas para desbloquear el siguiente mÃ³dulo.</p>
        </div>

        <div class="quiz-body" id="quiz-body">
          <!-- Quiz questions rendered by JS -->
        </div>

        <div class="quiz-actions" id="quiz-actions">
          <button class="btn btn-primary btn-lg" id="btn-submit-quiz">Enviar respuestas</button>
        </div>

        <div class="quiz-results hidden" id="quiz-results">
          <div class="result-card" id="result-card">
            <div class="result-icon" id="result-icon">âœ“</div>
            <h2 id="result-title">Â¡Aprobado!</h2>
            <p id="result-message">Has obtenido un 100%</p>
            <div class="result-actions">
              <button class="btn btn-primary" id="btn-next-module">Siguiente mÃ³dulo</button>
              <button class="btn btn-outline" id="btn-retry-quiz">Reintentar</button>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <script src="js/data.js"></script>
  <script src="js/quiz.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
